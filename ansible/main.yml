---
- hosts: localhost
  vars_files:
      - ./vars/vault.yml
  connection: local
  roles:
    - init-cluster
  tasks:
    - include: ./includes/install-private-ssh-key/install-private-ssh-key.yml

- hosts: gcp_root
  gather_facts: no
  vars_files:
    - ./vars/vault.yml
#  roles:
#    - install-gcloud
  tasks:
#    - include: ./includes/install-docker/install_docker.yml
    - include: ./includes/nginx/build_nginx_image.yml
#    - include: ./includes/php/build_php_image.yml
#    - include: ./includes/kubernetes/mysql-service/mysql-service.yml
    - include: ./includes/kubernetes/stundenplan-service/stundenplan-service.yml